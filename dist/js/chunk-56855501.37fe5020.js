(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56855501"],{"5d86":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add"},[a("h1",[t._v("广告管理")]),a("el-tabs",{staticClass:"tabs",attrs:{type:"border-card"}},t._l(t.ads,(function(e,s){return a("el-tab-pane",{key:s,attrs:{label:"广告位"+(s+1)}},[a("el-form",{ref:"form",refInFor:!0,staticClass:"form",attrs:{model:e,"label-width":"80px"},nativeOn:{submit:function(a){return a.preventDefault(),t.submit(e)}}},[a("el-form-item",{attrs:{label:"广告标题"}},[a("el-input",{model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1),a("el-form-item",{attrs:{label:"广告备注"}},[a("el-input",{model:{value:e.desc,callback:function(a){t.$set(e,"desc",a)},expression:"item.desc"}})],1),a("el-form-item",{attrs:{label:"跳转链接"}},[a("el-input",{model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1),a("el-form-item",{attrs:{label:"图标"}},[a("el-upload",{staticClass:"uploadimg",attrs:{action:"http://www.rorscloud.top:4000/admin/upload","list-type":"picture-card",headers:t.getAuthHeader(),"show-file-list":!1,"on-success":function(a){return t.afterUpload(a,e)}}},[e.abs_img?a("img",{staticClass:"avatar",attrs:{src:e.abs_img,width:"100%",height:"100%"}}):a("i",{staticClass:"el-icon-plus"})])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("确认修改")]),a("el-button",{on:{click:t.clear}},[t._v("取消")])],1)],1)],1)})),1)],1)},r=[],n=(a("96cf"),a("3b8d")),i={props:{id:String},data:function(){return{ads:[],editableTabsValue:0,editableTabs:[]}},created:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("/admin/ads");case 3:e=t.sent,this.ads=e.data.data,console.log(e),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),this.$message.error("出错了");case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),methods:{afterUpload:function(t,e){console.log(t),this.$set(e,"abs_img",t.abs_img),this.$set(e,"abs_img",t.abs_img)},submit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.put("/admin/ads/".concat(e._id),e);case 3:t.sent,this.$message.success("修改成功"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.$message.error("出了问题");case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),clear:function(){this.id&&this.$router.go(-1)}}},l=i,c=(a("5fb1"),a("2877")),o=Object(c["a"])(l,s,r,!1,null,"08978a6e",null);e["default"]=o.exports},"5fb1":function(t,e,a){"use strict";var s=a("6528"),r=a.n(s);r.a},6528:function(t,e,a){}}]);
//# sourceMappingURL=chunk-56855501.37fe5020.js.map