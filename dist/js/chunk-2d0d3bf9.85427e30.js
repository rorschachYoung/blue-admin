(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3bf9"],{"5da5":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"_id",label:"文章名称"}}),n("el-table-column",{attrs:{prop:"title",label:"文章名称"}}),n("el-table-column",{attrs:{label:"文章分类"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.categories,(function(a,r){return n("span",{key:r},[t._v(t._s(r===e.row.categories.length-1?a.name:a.name+","))])}))}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(n){return t.edit(e.row._id)}}},[t._v("详情")]),n("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(n){return t.edit(e.row._id)}}},[t._v("编辑")]),n("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(n){return t.del(e.row._id)}}},[t._v("删除")])]}}])})],1),n("el-row",{staticStyle:{"padding-top":"20px"},attrs:{type:"flex",justify:"center"}},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.count},on:{"current-change":t.changePage}})],1)],1)},r=[],i=(n("96cf"),n("3b8d")),c={data:function(){return{page:1,pagesize:10,tableData:[],count:0}},mounted:function(){this.getList()},methods:{changePage:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.page=e,this.getList();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("/admin/article",{params:{page:this.page,pagesize:this.pagesize}});case 3:e=t.sent,this.count=e.data.count,this.tableData=e.data.data,console.log(e),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),del:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.delete("/admin/article/".concat(e));case 3:n=t.sent,n.data&&n.data.deletedCount&&(this.tableData=this.tableData.filter((function(t){return t._id!==e})),this.$message.success("删除成功")),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}(),edit:function(t){this.$router.push("/moba/article_edit/".concat(t))}}},s=c,o=n("2877"),u=Object(o["a"])(s,a,r,!1,null,"08c2156f",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0d3bf9.85427e30.js.map