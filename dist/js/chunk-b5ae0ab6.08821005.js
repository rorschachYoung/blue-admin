(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5ae0ab6"],{"02f4":function(t,e,r){var a=r("4588"),s=r("be13");t.exports=function(t){return function(e,r){var i,o,l=String(s(e)),n=a(r),c=l.length;return n<0||n>=c?t?"":void 0:(i=l.charCodeAt(n),i<55296||i>56319||n+1===c||(o=l.charCodeAt(n+1))<56320||o>57343?t?l.charAt(n):i:t?l.slice(n,n+2):o-56320+(i-55296<<10)+65536)}}},"1af6":function(t,e,r){var a=r("63b6");a(a.S,"Array",{isArray:r("9003")})},"36bd":function(t,e,r){"use strict";var a=r("4bf8"),s=r("77f1"),i=r("9def");t.exports=function(t){var e=a(this),r=i(e.length),o=arguments.length,l=s(o>1?arguments[1]:void 0,r),n=o>2?arguments[2]:void 0,c=void 0===n?r:s(n,r);while(c>l)e[l++]=t;return e}},"469f":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("7d7b")},"54a1":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("95d5")},"5d73":function(t,e,r){t.exports=r("469f")},"5df3":function(t,e,r){"use strict";var a=r("02f4")(!0);r("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=a(e,r),this._i+=t.length,{value:t,done:!1})}))},"6c7b":function(t,e,r){var a=r("5ca1");a(a.P,"Array",{fill:r("36bd")}),r("9c6c")("fill")},"7d7b":function(t,e,r){var a=r("e4ae"),s=r("7cd6");t.exports=r("584a").getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},"95d5":function(t,e,r){var a=r("40c3"),s=r("5168")("iterator"),i=r("481b");t.exports=r("584a").isIterable=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||i.hasOwnProperty(a(e))}},a745:function(t,e,r){t.exports=r("f410")},c8bb:function(t,e,r){t.exports=r("54a1")},d23e:function(t,e,r){},e5c3:function(t,e,r){"use strict";var a=r("d23e"),s=r.n(a);s.a},e73d:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add"},[t.id?t._e():r("h1",[t._v("添加英雄")]),t.id?r("h1",[t._v("修改英雄")]):t._e(),r("el-form",{staticClass:"form",attrs:{"label-width":"80px"},nativeOn:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("el-tabs",{attrs:{type:"border-card"}},[r("el-tab-pane",{attrs:{label:"基本信息"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"英雄名称"}},[r("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"英雄介绍"}},[r("el-input",{model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),r("el-form-item",{attrs:{label:"称号"}},[r("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),r("el-form-item",{attrs:{label:"分类"}},[r("el-select",{attrs:{multiple:""},model:{value:t.form.categories,callback:function(e){t.$set(t.form,"categories",e)},expression:"form.categories"}},t._l(t.categories,(function(t,e){return r("el-option",{key:e,attrs:{label:t.name,value:t._id}})})),1)],1),r("el-form-item",{attrs:{label:"难度值"}},[r("el-rate",{attrs:{max:9,"show-score":""},model:{value:t.form.scores.difficult,callback:function(e){t.$set(t.form.scores,"difficult",e)},expression:"form.scores.difficult"}})],1),r("el-form-item",{attrs:{label:"技能值"}},[r("el-rate",{attrs:{max:9,"show-score":""},model:{value:t.form.scores.skills,callback:function(e){t.$set(t.form.scores,"skills",e)},expression:"form.scores.skills"}})],1),r("el-form-item",{attrs:{label:"攻击值"}},[r("el-rate",{attrs:{max:9,"show-score":""},model:{value:t.form.scores.attack,callback:function(e){t.$set(t.form.scores,"attack",e)},expression:"form.scores.attack"}})],1),r("el-form-item",{attrs:{label:"生存值"}},[r("el-rate",{attrs:{max:9,"show-score":""},model:{value:t.form.scores.survive,callback:function(e){t.$set(t.form.scores,"survive",e)},expression:"form.scores.survive"}})],1),r("el-form-item",{attrs:{label:"图标"}},[r("el-upload",{attrs:{action:"http://www.rorscloud.top:4000/admin/upload","list-type":"picture-card",headers:t.getAuthHeader(),"show-file-list":!1,"on-success":t.afterUpload}},[t.form.abs_img?r("img",{staticClass:"avatar",attrs:{src:t.form.abs_img,width:"100%",height:"100%"}}):r("i",{staticClass:"el-icon-plus"})])],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"顺风出装"}},[r("el-select",{attrs:{multiple:""},model:{value:t.form.win_items,callback:function(e){t.$set(t.form,"win_items",e)},expression:"form.win_items"}},t._l(t.items,(function(t,e){return r("el-option",{key:e,attrs:{label:t.name,value:t._id}})})),1)],1),r("el-form-item",{attrs:{label:"逆风出装"}},[r("el-select",{attrs:{multiple:""},model:{value:t.form.lose_items,callback:function(e){t.$set(t.form,"lose_items",e)},expression:"form.lose_items"}},t._l(t.items,(function(t,e){return r("el-option",{key:e,attrs:{label:t.name,value:t._id}})})),1)],1),r("el-form-item",{attrs:{label:"使用技巧"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.form.useage_tips,callback:function(e){t.$set(t.form,"useage_tips",e)},expression:"form.useage_tips"}})],1),r("el-form-item",{attrs:{label:"对战技巧"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.form.battle_tips,callback:function(e){t.$set(t.form,"battle_tips",e)},expression:"form.battle_tips"}})],1),r("el-form-item",{attrs:{label:"团战技巧"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.form.team_tips,callback:function(e){t.$set(t.form,"team_tips",e)},expression:"form.team_tips"}})],1)],1)],1)],1),t._l(t.form.skills,(function(e,a){return r("el-tab-pane",{key:a,attrs:{label:"技能"+(a+1)}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"技能名称"}},[r("el-input",{model:{value:e.name,callback:function(r){t.$set(e,"name",r)},expression:"item.name"}})],1),r("el-form-item",{attrs:{label:"图标"}},[r("el-upload",{attrs:{action:"http://www.rorscloud.top:4000/admin/upload","list-type":"picture-card","show-file-list":!1,headers:t.getAuthHeader(),"on-success":function(r){return t.afterSkillUpload(r,e)}}},[e.abs_img?r("img",{staticClass:"avatar",attrs:{src:e.abs_img,width:"100%",height:"100%"}}):r("i",{staticClass:"el-icon-plus"})])],1),r("el-form-item",{attrs:{label:"介绍"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.desc,callback:function(r){t.$set(e,"desc",r)},expression:"item.desc"}})],1),r("el-form-item",{attrs:{label:"小提示"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.tips,callback:function(r){t.$set(e,"tips",r)},expression:"item.tips"}})],1)],1)],1)],1)}))],2),r("el-row",[r("el-col",{staticStyle:{"padding-top":"20px"},attrs:{span:6,offset:9}},[r("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v(t._s(t.id?"确认修改":"立即创建"))]),r("el-button",{on:{click:t.clear}},[t._v("取消")])],1)],1)],1)],1)},s=[],i=(r("6c7b"),r("ac6a"),r("5df3"),r("a745")),o=r.n(i);function l(t){if(o()(t))return t}var n=r("5d73"),c=r.n(n),f=r("c8bb"),u=r.n(f);function m(t,e){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],a=!0,s=!1,i=void 0;try{for(var o,l=c()(t);!(a=(o=l.next()).done);a=!0)if(r.push(o.value),e&&r.length===e)break}catch(n){s=!0,i=n}finally{try{a||null==l["return"]||l["return"]()}finally{if(s)throw i}}return r}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(t,e){return l(t)||m(t,e)||p()}r("96cf");var b=r("3b8d"),h={props:{id:String},data:function(){return{categories:[],items:[],form:{name:"",title:"",rel_img:"",abs_img:"",categories:[],scores:{difficult:0,skills:0,attack:0,survive:0},win_items:[],lose_items:[],team_tips:"",battle_tips:"",useage_tips:"",skills:[{},{},{},{},{},{}]}}},created:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){var e,r,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.id){t.next=7;break}return t.next=3,this.axios.get("/admin/hero/".concat(this.id));case 3:e=t.sent,console.log(e),Object.assign(this.form,e.data),console.log(this.form);case 7:return t.next=9,Promise.all([this.axios.get("/admin/category"),this.axios.get("/admin/item")]);case 9:r=t.sent,a=d(r,2),s=a[0],i=a[1],console.log(s,i),this.categories=s.data.data,this.items=i.data.data,this.fixSkillTab();case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{fixSkillTab:function(){var t=this;new Array(6-this.form.skills.length).fill(0).forEach((function(){return t.form.skills.push({})}))},afterSkillUpload:function(t,e){console.log(e),this.$set(e,"abs_img",t.abs_img),this.$set(e,"abs_img",t.abs_img)},afterUpload:function(t){console.log(t),this.form.abs_img=t.abs_img,this.form.rel_img=t.rel_img},submit:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!this.id){t.next=7;break}return t.next=4,this.axios.put("/admin/hero/".concat(this.id),this.form);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.axios.post("/admin/hero",this.form);case 9:e=t.sent;case 10:console.log(e),this.$router.push({name:"hero_list"}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),this.$message.error("出了问题");case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(){return t.apply(this,arguments)}return e}(),clear:function(){this.id&&this.$router.go(-1)}}},v=h,g=(r("e5c3"),r("2877")),x=Object(g["a"])(v,a,s,!1,null,"219ddf40",null);e["default"]=x.exports},f410:function(t,e,r){r("1af6"),t.exports=r("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-b5ae0ab6.08821005.js.map